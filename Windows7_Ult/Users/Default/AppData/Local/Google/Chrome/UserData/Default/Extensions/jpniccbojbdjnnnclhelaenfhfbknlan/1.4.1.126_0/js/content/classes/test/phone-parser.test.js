"use strict";
var _ = require('lodash');
var assert = require('assert');
var PhoneParser = require('../phone-parser').PhoneParser;
var parser = new PhoneParser();

/** В проверяемом поле сначала должны идти длинные номера по порядку, затем короткие номера по порядку. Например:
* [" test 123-12-23 sfasf 43-45-45 asdfdsgds 8 (130) 234-34-54", ["8 (130) 234-34-54", "123-12-23", "43-45-45"]]
*
* @type {*[]}
*/
var testCases = [
    ["796-857-24-87", ["796-857-24-87"]],
    ["659 177-87-97", ["659 177-87-97"]],
    ["699 224 27 66", ["699 224 27 66"]],
    ["761 6712917", ["761 6712917"]],
    ["655 737-5568", ["655 737-5568"]],
    ["(982)-499-78-84", ["(982)-499-78-84"]],
    ["(147) 771-78-15", ["(147) 771-78-15"]],
    ["(377) 658 51 18", ["(377) 658 51 18"]],
    ["(427) 6185915", ["(427) 6185915"]],
    ["(229) 381-7287", ["(229) 381-7287"]],
    ["(641)-6126594", ["(641)-6126594"]],
    ["5157-98-71-91", ["5157-98-71-91"]],
    ["5987 28-77-49", ["5987 28-77-49"]],
    ["6464 88 15 36", ["6464 88 15 36"]],
    ["6589 482852", ["6589 482852"]],
    ["(5827)-51-57-58", ["(5827)-51-57-58"]],
    ["(2413) 23-19-32", ["(2413) 23-19-32"]],
    ["(6653) 36 31 46", ["(6653) 36 31 46"]],
    ["(1882) 276526", ["(1882) 276526"]],
    ["(5988)-915795", ["(5988)-915795"]],
    ["(212-6)-37-84-48", ["(212-6)-37-84-48"]],
    ["(429-2) 67-51-75", ["(429-2) 67-51-75"]],
    ["(831-8) 24 47 91", ["(831-8) 24 47 91"]],
    ["(127-4) 737622", ["(127-4) 737622"]],
    ["(786-9)-881962", ["(786-9)-881962"]],
    ["67461-5-27-61", ["67461-5-27-61"]],
    ["11425 2-35-21", ["11425 2-35-21"]],
    ["62194 6 99 21", ["62194 6 99 21"]],
    ["(16459)-8-71-54", ["(16459)-8-71-54"]],
    ["(39915) 4-43-16", ["(39915) 4-43-16"]],
    ["(44225) 9 22 66", ["(44225) 9 22 66"]],
    ["(62598) 55741", ["(62598) 55741"]],
    ["(32782)-99955", ["(32782)-99955"]],
    ["(882-49)-6-66-19", ["(882-49)-6-66-19"]],
    ["(445-85) 5-58-68", ["(445-85) 5-58-68"]],
    ["(498-32) 4 64 32", ["(498-32) 4 64 32"]],
    ["(864-19) 96251", ["(864-19) 96251"]],
    ["(778-69)-99714", ["(778-69)-99714"]],
    ["815258-37-98", ["815258-37-98"]],
    ["267227 57-36", ["267227 57-36"]],
    ["632639 46 92", ["632639 46 92"]],
    ["218859 9818", ["218859 9818"]],
    ["(364798)-95-87", ["(364798)-95-87"]],
    ["(859975) 16-78", ["(859975) 16-78"]],
    ["(565389) 55 42", ["(565389) 55 42"]],
    ["(396617) 9847", ["(396617) 9847"]],
    ["(318351)-6257", ["(318351)-6257"]],
    ["(79-53-22)-75-28", ["(79-53-22)-75-28"]],
    ["(28-51-91) 27-48", ["(28-51-91) 27-48"]],
    ["(97-75-74) 43 97", ["(97-75-74) 43 97"]],
    ["(35-49-36) 1123", ["(35-49-36) 1123"]],
    ["(68-37-12)-1634", ["(68-37-12)-1634"]],
    ["+7-711-673-12-54", ["+7-711-673-12-54"]],
    ["+7-312 424-89-15", ["+7-312 424-89-15"]],
    ["+7 835 168 25 99", ["+7 835 168 25 99"]],
    ["+7 416 1952718", ["+7 416 1952718"]],
    ["+7 741 627-2752", ["+7 741 627-2752"]],
    ["+7-879-5178755", ["+7-879-5178755"]],
    ["+7-(872)-131-42-67", ["+7-(872)-131-42-67"]],
    ["+7 (518) 257-68-57", ["+7 (518) 257-68-57"]],
    ["+7 (553) 971 99 75", ["+7 (553) 971 99 75"]],
    ["+7 (754) 1551315", ["+7 (754) 1551315"]],
    ["+7 (666) 767-1662", ["+7 (666) 767-1662"]],
    ["+7-(555)-5196181", ["+7-(555)-5196181"]],
    ["+7-1571-91-31-89", ["+7-1571-91-31-89"]],
    ["+7-4463 13-29-21", ["+7-4463 13-29-21"]],
    ["+7 6142 94 35 22", ["+7 6142 94 35 22"]],
    ["+7 9877 616351", ["+7 9877 616351"]],
    ["+7-5657-427364", ["+7-5657-427364"]],
    ["+7-(7599)-15-53-51", ["+7-(7599)-15-53-51"]],
    ["+7 (4178) 16-95-84", ["+7 (4178) 16-95-84"]],
    ["+7 (6179) 85 21 58", ["+7 (6179) 85 21 58"]],
    ["+7 (7657) 164717", ["+7 (7657) 164717"]],
    ["+7-(8636)-343917", ["+7-(8636)-343917"]],
    ["+7-(148-1)-62-86-32", ["+7-(148-1)-62-86-32"]],
    ["+7 (666-1) 53-57-15", ["+7 (666-1) 53-57-15"]],
    ["+7 (576-6) 84 34 86", ["+7 (576-6) 84 34 86"]],
    ["+7 (12-34) 12-34-56", ["+7 (12-34) 12-34-56"]],
    ["+7 (733-5) 132911", ["+7 (733-5) 132911"]],
    ["+7-(434-8)-481735", ["+7-(434-8)-481735"]],
    ["+7-58886-9-34-63", ["+7-58886-9-34-63"]],
    ["+7 35479 8-49-12", ["+7 35479 8-49-12"]],
    ["+7 74285 3 84 59", ["+7 74285 3 84 59"]],
    ["+7 21267 13256", ["+7 21267 13256"]],
    ["+7-31816-52812", ["+7-31816-52812"]],
    ["+7-(64271)-5-16-99", ["+7-(64271)-5-16-99"]],
    ["+7 (78431) 5-46-79", ["+7 (78431) 5-46-79"]],
    ["+7 (82912) 2 29 86", ["+7 (82912) 2 29 86"]],
    ["+7 (36571) 51989", ["+7 (36571) 51989"]],
    ["+7-(35859)-37224", ["+7-(35859)-37224"]],
    ["+7-(546-21)-1-15-86", ["+7-(546-21)-1-15-86"]],
    ["+7 (354-84) 4-49-11", ["+7 (354-84) 4-49-11"]],
    ["+7 (777-41) 8 89 32", ["+7 (777-41) 8 89 32"]],
    ["+7 (959-85) 34893", ["+7 (959-85) 34893"]],
    ["+7-(133-12)-21358", ["+7-(133-12)-21358"]],
    ["+7-216799-15-77", ["+7-216799-15-77"]],
    ["+7 892341 16-53", ["+7 892341 16-53"]],
    ["+7 448799 86 75", ["+7 448799 86 75"]],
    ["+7 979294 5931", ["+7 979294 5931"]],
    ["+7-751337-4857", ["+7-751337-4857"]],
    ["+7-(298781)-67-76", ["+7-(298781)-67-76"]],
    ["+7 (841234) 46-81", ["+7 (841234) 46-81"]],
    ["+7 (483879) 71 96", ["+7 (483879) 71 96"]],
    ["+7 (262924) 4263", ["+7 (262924) 4263"]],
    ["+7-(828388)-7891", ["+7-(828388)-7891"]],
    ["+7-(24-38-58)-11-41", ["+7-(24-38-58)-11-41"]],
    ["+7 (33-78-15) 33-21", ["+7 (33-78-15) 33-21"]],
    ["+7 (41-72-14) 21 58", ["+7 (41-72-14) 21 58"]],
    ["+7 (44-95-21) 7345", ["+7 (44-95-21) 7345"]],
    ["+7-(61-32-49)-7762", ["+7-(61-32-49)-7762"]],
    ["8-781-915-83-95", ["8-781-915-83-95"]],
    ["8 391 121-85-19", ["8 391 121-85-19"]],
    ["8 864 916 51 56", ["8 864 916 51 56"]],
    ["8 834 1235651", ["8 834 1235651"]],
    ["8 957 713-6135", ["8 957 713-6135"]],
    ["8-879-9212474", ["8-879-9212474"]],
    ["8-(599)-944-97-29", ["8-(599)-944-97-29"]],
    ["8 (152) 423-84-64", ["8 (152) 423-84-64"]],
    ["8 (825) 675 13 57", ["8 (825) 675 13 57"]],
    ["8 (637) 7677731", ["8 (637) 7677731"]],
    ["8 (163) 517-9373", ["8 (163) 517-9373"]],
    ["8-(963)-3975355", ["8-(963)-3975355"]],
    ["8-4593-94-71-49", ["8-4593-94-71-49"]],
    ["8 2854 63-91-41", ["8 2854 63-91-41"]],
    ["8 4364 82 53 85", ["8 4364 82 53 85"]],
    ["8 1675 656957", ["8 1675 656957"]],
    ["8-2386-786972", ["8-2386-786972"]],
    ["8-(1362)-57-67-74", ["8-(1362)-57-67-74"]],
    ["8 (9395) 99-87-76", ["8 (9395) 99-87-76"]],
    ["8 (5399) 64 17 43", ["8 (5399) 64 17 43"]],
    ["8 (3788) 462636", ["8 (3788) 462636"]],
    ["8-(6884)-467611", ["8-(6884)-467611"]],
    ["8-(328-6)-58-72-62", ["8-(328-6)-58-72-62"]],
    ["8 (913-7) 85-42-94", ["8 (913-7) 85-42-94"]],
    ["8 (683-9) 88 44 98", ["8 (683-9) 88 44 98"]],
    ["8 (993-2) 592625", ["8 (993-2) 592625"]],
    ["8-(112-9)-841919", ["8-(112-9)-841919"]],
    ["8-52376-9-17-69", ["8-52376-9-17-69"]],
    ["8 56236 2-17-56", ["8 56236 2-17-56"]],
    ["8 75891 8 88 74", ["8 75891 8 88 74"]],
    ["8 98349 75924", ["8 98349 75924"]],
    ["8-24263-27735", ["8-24263-27735"]],
    ["8-(56537)-6-75-79", ["8-(56537)-6-75-79"]],
    ["8 (14625) 3-57-56", ["8 (14625) 3-57-56"]],
    ["8 (63296) 6 47 25", ["8 (63296) 6 47 25"]],
    ["8 (82499) 74219", ["8 (82499) 74219"]],
    ["8-(83871)-38736", ["8-(83871)-38736"]],
    ["8-(544-96)-2-15-24", ["8-(544-96)-2-15-24"]],
    ["8 (364-15) 8-86-12", ["8 (364-15) 8-86-12"]],
    ["8 (179-59) 4 51 57", ["8 (179-59) 4 51 57"]],
    ["8 (299-87) 82758", ["8 (299-87) 82758"]],
    ["8-(256-61)-54956", ["8-(256-61)-54956"]],
    ["8-666466-88-99", ["8-666466-88-99"]],
    ["8 491783 45-19", ["8 491783 45-19"]],
    ["8 313235 11 42", ["8 313235 11 42"]],
    ["8 962735 6647", ["8 962735 6647"]],
    ["8-277815-7535", ["8-277815-7535"]],
    ["8-(937964)-34-58", ["8-(937964)-34-58"]],
    ["8 (594162) 29-89", ["8 (594162) 29-89"]],
    ["8 (865142) 81 15", ["8 (865142) 81 15"]],
    ["8 (527915) 5951", ["8 (527915) 5951"]],
    ["8-(464385)-5625", ["8-(464385)-5625"]],
    ["8-(16-54-36)-61-39", ["8-(16-54-36)-61-39"]],
    ["8 (11-68-82) 94-72", ["8 (11-68-82) 94-72"]],
    ["8 (42-21-87) 55 46", ["8 (42-21-87) 55 46"]],
    ["8 (75-25-88) 6428", ["8 (75-25-88) 6428"]],
    ["8-(98-19-72)-2682", ["8-(98-19-72)-2682"]],
    ["6-121-851-7195", ["6-121-851-7195"]],
    ["5 367 831 9931", ["5 367 831 9931"]],
    ["8.343.919.2345", ["8.343.919.2345"]],
    ["(75) 76 5792-3888", ["(75) 76 5792-3888"]],
    ["(78) 86-4758-7369", ["(78) 86-4758-7369"]],
    ["(23)-38-6636-1574", ["(23)-38-6636-1574"]],
    ["00 64 9 123­4567", ["00 64 9 123­4567"]],
    ["00 49 (12 34) 12 34 56", ["00 49 (12 34) 12 34 56"]],
    ["020 1234 1234", ["020 1234 1234"]],
    ["01234 123456", ["01234 123456"]],
    ["0800 123456", ["0800 123456"]],
    ["0 800 12 34 56", ["0 800 12 34 56"]],
    ["01.48.64.85.85", ["01.48.64.85.85"]],
    ["02 3823102", ["02 3823102"]],
    ["07 58 58 323 00", ["07 58 58 323 00"]],
    ["8 123 123­45­67", ["8 123 123­45­67"]],
    ["1­554­664­6433", ["1­554­664­6433"]],
    ["1 554 664 6433", ["1 554 664 6433"]],
    ["1.554.664.6433", ["1.554.664.6433"]],
    ["+54 2965 12 3456", ["+54 2965 12 3456"]],
    ["+44 20 1234 1234", ["+44 20 1234 1234"]],
    ["+7.7014345944", ["+7.7014345944"]],
    ["+1.202.867.5309", ["+1.202.867.5309"]],
    ["+33 141 56 98 67", ["+33 141 56 98 67"]],
    ["+850 (2) 3813031", ["+850 (2) 3813031"]],
    ["+1 (425) 555­0100", ["+1 (425) 555­0100"]],
    ["(495) 223-55-55", ["(495) 223-55-55"]],
    ["(495) 2371336", ["(495) 2371336"]],
    ["8 (383) 354-02-06, \n 8 (383) 354-35-20", ["8 (383) 354-02-06", "8 (383) 354-35-20"]],
    ["+7 (383) 310 93 57", ["+7 (383) 310 93 57"]],
    ["8-800-555-28-31, 8-495-215-18-37", ["8-800-555-28-31", "8-495-215-18-37"]],
    ["Телефоны: +7 (495) 938-23-87; (495) 222-84-83 \nФакс:       (495) 938-23-84, круглосуточно", ["+7 (495) 938-23-87", "(495) 222-84-83", "(495) 938-23-84"]],
    ["+7 (12-34) 12-34-56.", ["+7 (12-34) 12-34-56"]],
    ["For more information call 0100 68 55 120 - 012 85 84 6661", ["0100 68 55 120", "012 85 84 6661"]],
    ["Please send resume or call 218-863-7625 or 218-329-4239", ["218-863-7625", "218-329-4239"]],
    ["Phone: (775) 463-3454\nFernley: (775) 575-5757\nToll Free: (877) 463-3454", ["(775) 463-3454", "(775) 575-5757", "(877) 463-3454"]],
    ["(495) 980‑09‑69  (495) 921‑36‑18", ["(495) 980‑09‑69", "(495) 921‑36‑18"]],
    ["(495) 980‑09‑69", ["(495) 980‑09‑69"]],
    ["корпус 1, к. 306    +7 (383) 346 02 68    ", ["+7 (383) 346 02 68"]],
    ["  +7(383) 363-05-55.   ", ["+7(383) 363-05-55"]],
    ["   +7(383) 363-05-55,   ", ["+7(383) 363-05-55"]],
    ["+73833630555", ["+73833630555"]],
    ["Тел. +7 (495) 739 2325  (8860)", ["+7 (495) 739 2325"]],
    ["+7 (910) 489-50-48", ["+7 (910) 489-50-48"]],
    ["or local format (555-333-4444, 0361 6547765, etc).", ["555-333-4444", "0361 6547765"]],
    ["+7 (495) 228-47–99", ["+7 (495) 228-47–99"]],
    ["(800) MY-APPLE (800-692-7753)", ["800-692-7753"]],
    ["+7 913 763 76 08, успей купить!", ["+7 913 763 76 08"]],
    ["тел. (3912) 977-633, \n79-16-60", ["(3912) 977-633", "79-16-60"]],
    ["(495) 600-64-74”", ["(495) 600-64-74"]],
    ["+7(383)3753041", ["+7(383)3753041"]],
    ["Conmutador (57) (1) 3159800 Fax 3159800 Opción 9 ", ["(57) (1) 3159800"]],
    ["Línea Anticorrupción: 01 8000 110 588 Correo:", ["01 8000 110 588"]],
    ["8(916)617-94-82, 8(925)899-98-15", ["8(916)617-94-82", "8(925)899-98-15"]],
    ["0312 5557777", ["0312 5557777"]],
    ["07431 4050", ["07431 4050"]],
    ["06181 28660", ["06181 28660"]],
    ["+41 848 988 988", ["+41 848 988 988"]],
    ["04182 05854", ["04182 05854"]],
    ["0122 76476", ["0122 76476"]],
    ["03382 20000", ["03382 20000"]],
    ["038232 840", ["038232 840"]],
    ["01932 850 329 and 01900 85656", ["01932 850 329", "01900 85656"]],
    ["(21) 2240-2669", ["(21) 2240-2669"]],
    ["02 24115588", ["02 24115588"]],
    ["(0542) 411 443", ["(0542) 411 443"]],
    ["(812)2343278", ["(812)2343278"]],
    ["(+66) (2) 579-15-81", ["(+66) (2) 579-15-81"]],
    ["(66 38) 425 937", ["(66 38) 425 937"]],
    ["345-12-35", ["345-12-35"]],
    ["23-45-46", ["23-45-46"]],
    ["2-56-54", ["2-56-54"]],
    ["234-3434", ["234-3434"]],
    ["243-434", ["243-434"]],
    ["43-434", ["43-434"]],
    ["43-4-34", ["43-4-34"]],
    ["12-04-2001", []],
    ["000254", []],
    ["0003423", []],
    ["00035462", []],
    ["000342646", []],
    ["0004564632", []],
    ["0.00342646", []], // floats: единственная точка не считается за номер
    ["0.004564632", []],
    ["+0432", []],
    ["+03235", []],
    ["+023636", []],
    ["+0463467", []],
    ["+02364633", []],
    ["+023646335", []],
    ["+0236463355", []],
    ["454.231-33.45", []],
    ["234-343.45.65", []],
    ["234-577-34.45", []],
    ["457.354-34-34", []],
    ["465.545.23-75", []],
    ["325 463.43-45", []],
    ["264 643-35.21", []],
    ["1994-2014", []], // years
    ["664-516-389", []], // icq
    ["2014-04-07 08:15:24", []],
    ["new google.maps.LatLng(-83.8665433,151.1956316);", []], // floats
    ["4404932245", []],
    ["(Windows XP, Version 27.0.1453.94m)", []], // chrome version
    ["более 10 000 000 пользователей", []], // big number // начинается с 1 но не подходит по формату под американский номер
    ["ИНН 7811474237", []],
    ["ОГРН 1097711000078", []],
    ["BeaverHunter 03.04.14 14:59", []],
    ["2009 - 2013 г.", []],
    ["post id: 4404932245", []],
    ["642113678", []],
    ["Дата: 01.09.11 07:40:31", []],
    ["Необходимо проверить корректность ОГPНП 304500116000221", []],
    ["2014.03.14 12:18", []],
    ["Номер 1-12-77-46-50978-0 состоит из 13 цифр:", []], // начинается с 1 но не подходит по формату под американский номер
    ["Результатов: примерно 11 300 000", []], // начинается с 1 но не подходит по формату под американский номер
    ["Номер объявления: 308469246", []],
    ["Gardnerville, NV 89410-5729", []],
    ["Отредактированно yurgin (06.03.2012 11:10:23)", []],
    ["2013:16:14:23 +0700", []],
    ["363-00-00 83833630000 73833630000", ["363-00-00"]],
    ["3833630000 +", []],
    ["(Координаты: 55.060655 82.981379)", []],
    ["<b>пн - пт</b> 09:00-18:00<br />", []],
    ["(95.37.123.74", []],
    ["MV-21061-50906", []],
    ["27220 50Y05 12V 190W", []],
    ["57504 30350", []],
    ["СSM 1121-05", []],
    [" Apr 04 2014. 11 48 PM IST", []],
    ["http://cossa.wapstart.ru/(1)-(2)-(3)-(4)-(5)-(6)-(7)-(8)-(9)-(10)", []],
    ["Домашний интернет: fttx0801-385-643", []],
    ["Чат ИКЕА (10:00-22:00 МСК)", []],
    ["q=82.8972014,54.9799294", []],
    ["Исправлено пользователем DrKarcher (15.06.10 00:57)", []],
    [" ts:2014.04.17.00:57", []],
    ["011 + 90 + 242 + Local Number", []],
    ["Visits counts between the hours of 0500-0800 in the View timezone.", []],
    ["Nit 899999102-2 Avenida El Dorado Cra. 52 CAN Comando Fuerza Aérea Colombiana Bogotá, Colombia", []],
    ["23300-50090, 23300-50110", []],
    ["Toyota 48818-50030", []],
    ["4276-3800-5247-7861", []],
    ["4111 1111 1111 1111", []],
    ["3400 0000 0000 009", []],
    ["3000 0000 0000 04", []],
    ["Visa. 4111 1111 1111 1111 (16 digits", []],
    ["123435 + 89343634574", []],
    ["0-1920550", []],
    ["01-920550", []],
    ["019-2055022", []],
    ["88058-700", []],
    ["30330-000", []],
    ["01024-000", []],
    ["0.00004900", []],
    ["22.04.2014 12.33.03", []],
    ["06 08 2011", []],
    ["04:28 28.03.2014", []],
    ["Youla-debug-20140505-0016-70c0876-armv5.apk", []],
    ["272.67870790", []],
    ["374.49991270", []],
    ["19,466,071.79759854", []],
    ["2,940,039.19317888", []],
    ["250,017.50000000", []],
    ["250,001.00000000", []],
    ["2,500.00000000", []],
    ["0.14974740", []],
    ["0.00000000", []],
    ["8.00 (145 331)", []],
    ["8 917 959.07 USD", []],
    ["342-124-14-613Z", []],
    ["881627402476", []],
    ["88888801\\643\\MOSKVA\\OGO", []],
    ["otvet.mail.ru/question/81603594", []],
    ["(Сезон 4, серии 01-04 (10)) (2014) HDTVRip [720p] (LostFilm)", []],
    ["89.44.246.34:27015", []],
    ["00.000.000.000:1000", []],
    ["50776-01052014", []],
    ["100000-150000", []],
    ["0.93.101 (61)", []],
    ["09.05 12:21", []],
    ["Published: Jun 05 2007 12:00AM. Updated: Jun 05 2007 09:50PM.", []],
    ["+ 30.01.2014", []],
    ["0067 1110 0019 ebe5", []],
    ["2077 2377 2377 3a00 50c3", []],
    ["+7  (383) 310 - 88 - 98", []],
    ["$700 562 343 6967", ["562 343 6967"]],
    ["ололо700 562 343 6967", ["562 343 6967"]],
    ["124-343-2343", ["124-343-2343"]],
    ["\n(323) 695 8005 RAY", ["(323) 695 8005"]],
    ["\r(323) 695 8005 RAY", ["(323) 695 8005"]],
    ["ФС77-45107", []],
    ["777-777-5", []],
    [" google +1 service", []],
    ["test 8 800 number", []],
    ["bad phone: 318-231-43-43p", []],
    ["Продолжительность фильма 120-150 минут", []],
    ["Продолжительность фильма 90-120 минут", []],
    ["Version=0.95.01;", []],
    ["Amount of +1157.37% or less", []],
    ['margin: 0 0 -9999px', []]
];

/**
 * Currently failing tests
 * @type {*[]}
 */
var disabledTestCases = [
    ["8(383)3753041", ["8(383)3753041"]],
    ["С уважением, Игорь (812) 914-08-28 8 904 635-65-86", ["(812) 914-08-28", "8 904 635-65-86"]],
    ["Летняя резина Dunlop SP Sport 601 195 70 15 почти", []], // не начинается с 8,0,( и не попадает под формат ххх[-. ]ххх[-. ]хххх
    ["6-091-0027306", []], // предложение: если первая цифра не 1, 8, 7, 0 и после нее разделитель - то это не номер телефона
    ["Debug 20140505-0016-70", []],
    ["][akep 03 (182) 2014", []],
    ["Артикульный номер: 800.260.20", []],
    ["Fax: +49 9831 \n5053", ["+49 9831 5053"]],
    ["изображение 2014 08 02 13 28 21 png", []],
    ["Nicosia number: 22 664006", ["22 664006"]],
    ["Nicosia number: 22 45 21 21", ["22 45 21 21"]],
    ["66 89 831 88 77", ["66 89 831 88 77"]],
    ["66 87 1354440", ["66 87 1354440"]],
    ["971-4-3194000", ["971-4-3194000"]],
    ["971-4-317 7777", ["971-4-317 7777"]],
    ["971-4-885-2222", ["971-4-885-2222"]],
    ["966-14-818-0000", ["966-14-818-0000"]],
    ["20-2-2578-0444", ["20-2-2578-0444"]]
];

// ENABLE IF NEEDED
//_.extend(testCases, disabledTestCases);

describe('PhoneParser', function() {
    _.each(testCases, function(item) {
        it('should parse "' + item[0] + '" as "' + item[1].toString() + '"', function() {
            var sequences = parser.findSequences('test text test ' + item[0] + ' test test');
            var phones = [];

            for (var j = 0; j < sequences.full.length; j++) {
                phones.push(parser.findPhone(sequences.full[j]));
            }
            for (j = 0; j < sequences.short.length; j++) {
                phones.push(parser.findPhone(sequences.short[j], true));
            }

            phones = _.pluck(_.compact(phones), 'dirty');
            var diff1 = _.difference(phones, item[1]);
            var diff2 = _.difference(item[1], phones);

            assert.equal(diff1.length + diff2.length, 0);
        });
    });
});
